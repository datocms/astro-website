---
import { slugify } from '~/lib/slugify';
import s from './style.module.css';
import { Svg } from '~/components/Svg';
import { TargetToggler } from '~/components/TargetToggler';

type Props = {
  name: string;
};

const { name } = Astro.props;

const slug = slugify(name);
---

<div class={s.navItem} id={slug} data-navbar-navitem>
  <TargetToggler targetId={slug}>
    <div class={s.navButtonWrapper}>
      <button type="button" class={s.navButton} data-navbar-navitem-button>
        {name}
      </button>
      <div class={s.chevron}>
        <Svg name="icons/regular/chevron-down" />
      </div>
    </div>
  </TargetToggler>
  <div class={s.panel} role="dialog">
    <div class={s.panelInner}><slot /></div>
  </div>
</div>
