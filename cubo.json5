{
  $schema: 'https://unpkg.com/@datocms/cubo@0.2.1/schemas/cubo-config-schema.json',
  dockerImage: 'ghcr.io/datocms/astro-website',
  environments: {
    staging1: {
      build: {
        args: {
          PUBLIC_HOSTNAME: 'www-eu1.staging-datocms.com',
          RECAPTCHA_KEY: '6Lda4UkgAAAAAE14pGAmMkbHKJCKOzmRoVc9_DE5',
        },
        envVarSecrets: ['DATOCMS_API_TOKEN'],
      },
      kubernetes: {
        cluster: 'dato-staging-eu1',
        namespace: 'dato-staging-eu1-website',
        region: 'eu-west-1',
      },
      deployments: {
        web: {
          type: 'web',
          healthCheckPathname: '/up',
          cmd: 'node ./dist/server/entry.mjs',
          scale: {
            min: 1,
            max: 4,
          },
          cpu: 1,
          ram: 1,
          loadBalancer: {
            hostname: 'lb-website-eu1.staging-datocms.com',
            annotations: {
              'alb.ingress.kubernetes.io/certificate-arn': 'arn:aws:acm:eu-west-1:734741016184:certificate/d691d518-f3fd-4feb-99fa-b51cb127b2fe',
            },
          },
        },
      },
      cronJobs: {
        'invalidate-data-sources': {
          schedule: '*/10 * * * *',
          cmd: 'npm run invalidate-data-sources',
          cpu: 1,
          ram: 1,
        },
        // For production only
        // "datocms-site-search-reindex": {
        //   schedule: "0 0 * * *",
        //   cmd: 'curl -i -X PUT -H "Authorization: Bearer ${DATOCMS_API_TOKEN}" -H "Accept: application/json" -H "X-Api-Version: 3" https://site-api.datocms.com/build-triggers/34759/reindex',
        //   cpu: 1,
        //   ram: 1
        // }
      },
    },
    staging2: {
      build: {
        args: {
          PUBLIC_HOSTNAME: 'www-eu2.staging-datocms.com',
          RECAPTCHA_KEY: '6Lda4UkgAAAAAE14pGAmMkbHKJCKOzmRoVc9_DE5',
        },
        envVarSecrets: ['DATOCMS_API_TOKEN'],
      },
      kubernetes: {
        cluster: 'dato-staging-eu2',
        namespace: 'dato-staging-eu2-website',
        region: 'eu-west-1',
      },
      deployments: {
        web: {
          type: 'web',
          healthCheckPathname: '/up',
          cmd: 'node ./dist/server/entry.mjs',
          scale: {
            min: 1,
            max: 4,
          },
          cpu: 1,
          ram: 1,
          loadBalancer: {
            hostname: 'lb-website-eu2.staging-datocms.com',
            annotations: {
              'alb.ingress.kubernetes.io/certificate-arn': 'arn:aws:acm:eu-west-1:734741016184:certificate/d691d518-f3fd-4feb-99fa-b51cb127b2fe',
            },
          },
        },
      },
      cronJobs: {
        'invalidate-data-sources': {
          schedule: '*/10 * * * *',
          cmd: 'npm run invalidate-data-sources',
          cpu: 1,
          ram: 1,
        },
        // For production only
        // "datocms-site-search-reindex": {
        //   schedule: "0 0 * * *",
        //   cmd: 'curl -i -X PUT -H "Authorization: Bearer ${DATOCMS_API_TOKEN}" -H "Accept: application/json" -H "X-Api-Version: 3" https://site-api.datocms.com/build-triggers/34759/reindex',
        //   cpu: 1,
        //   ram: 1
        // }
      },
    },
  },
}
